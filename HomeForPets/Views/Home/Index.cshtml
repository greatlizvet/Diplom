@using HomeForPets.Models
@using PagedList.Mvc
@model HomeForPets.Models.FormListViewModel
@{
    /**/

    ViewBag.Title = "Дом для животных";
}
<div class="row">
    <div class="col-lg-2 filter-div">
        <div class="row">
            <div class="col-lg-12">
                @using (Html.BeginForm("Index", "Home", FormMethod.Get, htmlAttributes: new { @id = "sortAnketaForm"}))
                {
                    <div class="form-horizontal">
                        <div class="sort col-lg-12 filters-button">
                            <select class="form-control" id="Sort" name="Sort">
                                <option value="desc" @((Model.CurrentSort == "desc") ? "selected" : "")>Сначала новые</option>
                                <option value="asc" @((Model.CurrentSort == "asc") ? "selected" : "")>Сначала старые</option>

            </select>

        </div>

    </div>
                }
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <button class="btn btn-default filters-button" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    Фильтр
                </button>
                <div class="collapse" id="collapseExample">
                    <div class="thumbnail caption">
                        @using (Html.BeginForm("Index", "Home", FormMethod.Get, htmlAttributes: new { @id = "formfilter" }))
                        {
                            <div class="form-horizontal">
                                <div class="col-lg-12">
                                    @Html.LabelFor(model => model.Search, htmlAttributes: new { @class = "control-label" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.TextBoxFor(model => model.Search, htmlAttributes: new { @class = "form-control", placeholder = "Поиск" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.LabelFor(model => model.Categories, htmlAttributes: new { @class = "control-label" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.DropDownListFor(model => model.CategoryID, Model.Categories as SelectList, htmlAttributes: new { @class = "form-control" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.LabelFor(model => model.Species, htmlAttributes: new { @class = "control-label" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.DropDownListFor(model => model.SpecieID, Model.Species as SelectList, htmlAttributes: new { @class = "form-control" })
                                </div>
                                <div class="col-lg-12">
                                    @Html.LabelFor(model => model.Sex, htmlAttributes: new { @class = "control-label"})
                                </div>
                                <div class="col-lg-12">
                                    <select class="form-control" id="Sex" name="Sex">
                                        <option value="">Все</option>
                                        <option value="man">Мужской</option>
                                        <option value="woman">Женский</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-primary filter">
                                    Фильтр
                                </button>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-10">
        <div class="row">
            <div class="col-lg-12">
                <h1>Найдите дом животным прямо сейчас.</h1>
                <h3>Найдите друга и помогите обрести ему дом всего за пару кликов!</h3>
            </div>
            <div class="col-lg-12" id="forms">
                @foreach (var m in Model.Forms)
                {
                    if (!m.UnPublished)
                    {
                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                            <div class="thumbnail">
                                @Html.Partial("PartialAnketa", m)
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12" id="paging">
                Страница @(Model.Forms.PageCount < Model.Forms.PageNumber ? 0 : Model.Forms.PageNumber) из @Model.Forms.PageCount
                @Html.PagedListPager(Model.Forms, page => Url.Action("Index",
                    new { page,
                        Sort = Model.CurrentSort,
                        Search = Model.CurrentSearch,
                        CategoryID = Model.CurrentCategory,
                        SpecieID = Model.CurrentSpecie,
                        Sex = Model.CurrentSex}))
            </div>
        </div>
    </div>
</div>